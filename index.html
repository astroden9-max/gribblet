<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advertise with Us</title>
<style>
html, body {
  margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden;
}
iframe {
  width: 100%; height: 100%; border: none;
}
</style>
</head>
<body>

<iframe id="ad-frame" src=""></iframe>

<script>
const iframe = document.getElementById('ad-frame');
const reviveAdUrl = "reviveads.html";
const sponsorPageUrl = "sponsourpage.html";
const maxWait = 5000; // 5s

let fallbackTimeout = setTimeout(() => {
    console.log("Ad did not load in time. Showing sponsor page.");
    iframe.src = sponsorPageUrl;
}, maxWait);

// Listen for ad load signal
window.addEventListener('message', (event) => {
    if (event.data === 'ad-loaded-success') {
        console.log("Ad loaded successfully, keeping iframe on ad.");
        clearTimeout(fallbackTimeout);
    } else if (event.data === 'ad-failed') {
        console.log("Ad failed to load. Showing sponsor page.");
        iframe.src = sponsorPageUrl;
        clearTimeout(fallbackTimeout);
    }
});

// Start by loading the ad
iframe.src = reviveAdUrl;
console.log(`Loading ad: ${reviveAdUrl}`);
</script>

</body>
</html>
