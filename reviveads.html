<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Revive Ad Test</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #ad-container a {
      width: 100% !important;
      height: 100% !important;
      display: block !important; /* Anchor tags are inline by default */
      line-height: 0; /* Prevents unwanted space/height due to text properties */
    }
    #ad-container {
      width: 100% !important;
      height: 100% !important;
      margin: 0 !important;
      padding: 0 !important;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #111;
    }

    /* Force iframe or image inside ad to fill container */
    #ad-container iframe,
    #ad-container img {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover;
      display: block;
    }
  </style>
    </head>
<body>
  <div id="ad-container">
    <script type='text/javascript'><!--//<![CDATA[
   var m3_u = (location.protocol=='https:'?'https://assets.gribblet-dev.shop/resources/www/delivery/ajs.php':'http://assets.gribblet-dev.shop/resources/www/delivery/ajs.php');
   var m3_r = Math.floor(Math.random()*99999999999);
   if (!document.MAX_used) document.MAX_used = ',';
   document.write ("<scr"+"ipt type='text/javascript' src='"+m3_u);
   document.write ("?zoneid=1");
   document.write ('&amp;cb=' + m3_r);
   if (document.MAX_used != ',') document.write ("&amp;exclude=" + document.MAX_used);
   document.write (document.charset ? '&amp;charset='+document.charset : (document.characterSet ? '&amp;charset='+document.characterSet : ''));
   document.write ("&amp;loc=" + escape(window.location));
   if (document.referrer) document.write ("&amp;referer=" + escape(document.referrer));
   if (document.context) document.write ("&context=" + escape(document.context));
   document.write ("'><\/scr"+"ipt>");
//]]>--></script><noscript><a href='https://assets.gribblet-dev.shop/resources/www/delivery/ck.php?n=a06d78aa&amp;cb=INSERT_RANDOM_NUMBER_HERE' target='_blank'><img src='https://assets.gribblet-dev.shop/resources/www/delivery/avw.php?zoneid=1&amp;cb=INSERT_RANDOM_NUMBER_HERE&amp;n=a06d78aa' border='0' alt='' /></a></noscript>
    <script>
      // ðŸš€ CRITICAL FIX: Add the ad success signal script back.
      // This script checks if the ad content has been injected by ajs.php
      // and signals the parent index.html to stop the fallback timer.
      setTimeout(() => {
          // Check for the generated ad content (an iframe or an image)
          const adContent = document.querySelector('#ad-container iframe, #ad-container img');
          
          if (adContent) {
              console.log("Ad content detected. Signaling parent to prevent fallback.");
              try {
                  // Send the success message to the parent frame
                  window.parent.postMessage('ad-loaded-success', '*');
              } catch (e) {
                  console.error("Error sending postMessage:", e);
              }
          } else {
              // If no ad content is found, the parent's timeout will handle the fallback
              console.log("No ad content detected, parent timeout will initiate fallback.");
          }
      }, 5000); // Wait 1 second (1000ms) to allow the ajs.php script to inject the ad
    </script>
  </div>
</body>
</html>
